webpackJsonp([1,8],{164:function(e,t,n){var o=n(11)(n(490),n(494),null,null,null);e.exports=o.exports},166:function(e,t,n){function o(e){n(520)}var a=n(11)(n(496),n(514),o,"data-v-97ac6876",null);e.exports=a.exports},490:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"DialogBox",props:["headline","body","dialog"],data:function(){return{}},methods:{},computed:{subjects:function(){return this.listOfSubjects}}}},494:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"max-width":"290"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v(e._s(e.headline))]),e._v(" "),n("v-card-text",[e._v("\n          "+e._s(e.body)+"\n        ")]),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),e._t("buttonConfirm"),e._v(" "),n("v-spacer"),e._v(" "),e._t("buttonCancel")],2)],1)],1)},staticRenderFns:[]}},496:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(164),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default={name:"Enroll",components:{DialogBox:a.default},inject:["ExamService","EnrollService"],data:function(){return{defaultText:"Select a test",fileInput:!1,listOfSubjects:[],selected:null,action:!1,chosenFile:null,formData:new FormData,dialog:!1,dialogContent:{headline:"",body:""}}},props:{user:{type:Object}},methods:{selectSubject:function(){console.log(this.selected),this.fileInput=!0,this.dialogContent.headline="The file must be CSV file",this.dialogContent.body="Make sure columnA is filled with student IDs and columnB is filled with student names.There must not be any headers and empty fields. Example of a first row: [111 | John Doe]",this.dialog=!0},cancelSelected:function(){this.selected=null,this.fileInput=!1,this.action=!1},uploadFile:function(){var e=this;console.log("upload file"),this.formData.append("students",this.chosenFile),this.EnrollService.writeEnrollFromFile(this.formData,this.selected.subject_id).then(function(t){e.dialogContent.headline="File Uploaded!",e.dialogContent.body="Move on",e.dialog=!0,e.cancelSelected()}).catch(function(t){e.dialogContent.headline="Failed to upload!",e.dialogContent.body="There was an error in uploading",e.dialog=!0})}},computed:{subjects:function(){return this.listOfSubjects}},created:function(){var e=this;Promise.all([this.ExamService.fetchSubjects()]).then(function(){e.listOfSubjects=e.ExamService.retrieveSubjects()}).catch(function(){return console.log("nothing came back")})}}},507:function(e,t,n){t=e.exports=n(17)(),t.push([e.i,".box[data-v-97ac6876]{height:100%}",""])},514:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticStyle:{height:"1000px"}},[n("v-expansion-panels",[n("v-expansion-panel",[n("v-expansion-panel-header",{scopedSlots:e._u([{key:"default",fn:function(t){var o=t.open;return[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"4"}},[e._v("Subjects")]),e._v(" "),n("v-col",{staticClass:"text--secondary",attrs:{cols:"8"}},[n("v-fade-transition",{attrs:{"leave-absolute":""}},[o?n("span",{key:"0"}):n("span",{key:"1"})])],1)],1)]}}])}),e._v(" "),n("v-expansion-panel-content",[n("v-row",{attrs:{"no-gutters":""}},[n("v-spacer"),e._v(" "),n("v-col",{attrs:{cols:"5"}},[n("v-select",{attrs:{"return-object":"",items:e.subjects,"item-text":"name",chips:"",flat:"",label:"Select Subject"},on:{change:e.selectSubject},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),e._v(" "),n("v-divider",{staticClass:"mx-4",attrs:{vertical:""}}),e._v(" "),n("v-col",{attrs:{cols:"3"}},[e._v("\n           Upload Students List\n\n            "),n("br")])],1),e._v(" "),e.action?n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(t){return t.stopPropagation(),e.cancelSelected(t)}}},[e._v("\n            Cancel\n          ")]),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return t.stopPropagation(),e.uploadFile(t)}}},[e._v("\n            Upload\n          ")])],1):e._e(),e._v(" "),e.fileInput?n("v-file-input",{attrs:{label:"File input",accept:".csv,.odt,.xls"},on:{change:function(t){e.action=!0}},model:{value:e.chosenFile,callback:function(t){e.chosenFile=t},expression:"chosenFile"}}):e._e()],1)],1)],1),e._v(" "),n("DialogBox",{attrs:{dialog:e.dialog,headline:e.dialogContent.headline,body:e.dialogContent.body}},[n("template",{slot:"buttonConfirm"},[n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("I got it")])],1)],2)],1)},staticRenderFns:[]}},520:function(e,t,n){var o=n(507);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(18)("535ca1b6",o,!0,{})}});
//# sourceMappingURL=1.build.js.map